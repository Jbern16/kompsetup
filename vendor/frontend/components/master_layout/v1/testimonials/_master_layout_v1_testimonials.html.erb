<div class="ct-component ct-testimonials <%= @content['classes'] %>">

  <div class="inner-ct-component">

    <% if @content['title'] %>
      <h2 class="ct-component-title"><%= @content['title'].html_safe %></h2>
    <% end %>

    <div class="ct-testimonials-slider testimonials-slider">
      <% @content['testimonials'].each do |testimonial| %>
        <div class="ct-testimonials-slider-item">
          <blockquote class="ct-testimonials-text">
            <%= testimonial['quote'].html_safe %>
          </blockquote>
          <% if testimonial['author'] %>
            <div class="ct-testimonials-author"><%= testimonial['author'] %></div>
          <% end %>
          <% if testimonial['stars'] %>
            <div class="ct-testimonials-stars stars-<%= testimonial['stars'] %>">
              <span class="star"></span>
              <span class="star"></span>
              <span class="star"></span>
              <span class="star"></span>
              <span class="star"></span>
            </div>
          <% end %>
          <% if testimonial['date'] %>
            <div class="ct-testimonials-date"><%= testimonial['date'].html_safe %></div>
          <% end %>
        </div>
      <% end %>
    </div>
  </div>

</div>

<script>

  $(document).on('ready', function(event) {
    $('.testimonials-slider').slick({
      slidesToShow: 1,
      slidesToScroll: 1,
      arrows: true,
      draggable: true,
      infinite: true,
      dots: false,
      autoplay: false,
      autoplaySpeed: 2000,
      responsive: [
        {
          breakpoint: 778,
          settings: {
            swipe: true,
            arrows: false,
            dots: true
          }
        }
      ]
    });
  });

</script>
